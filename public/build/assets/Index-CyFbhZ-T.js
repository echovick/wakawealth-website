import{d as D,c as o,a as e,u as t,h as P,w as s,b as u,g as b,l as p,i as n,j as c,m as r,F as g,f as $,t as _,x as C,B as N}from"./app-Cx9OcbbQ.js";import{_ as B}from"./CmsLayout.vue_vue_type_script_setup_true_lang-CsvWf5uN.js";import{_ as h}from"./index-CUEd5gyv.js";import{_ as T,a as E,b as x,c as d,d as L,e as i}from"./TableRow.vue_vue_type_script_setup_true_lang-N_TPqUNb.js";import{_ as S,a as V,b as j,c as k}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-IA6H9NWz.js";import{P as M}from"./plus-DR9ecnbK.js";import{E as z}from"./ellipsis-DsYnCSPK.js";import"./Breadcrumbs.vue_vue_type_script_setup_true_lang-CMCTn8bn.js";import"./useForwardPropsEmits-RBA7oOP-.js";import"./DialogTitle-BTnRVNRG.js";import"./useForwardExpose-Cj3FmFSL.js";import"./Presence-C4xnn1Y2.js";import"./x-BVfj4e4W.js";import"./createLucideIcon-BcIx-Y_Y.js";import"./VisuallyHidden-DFa5j2ZN.js";import"./chevron-right-DWsb9qqq.js";import"./Separator.vue_vue_type_script_setup_true_lang-Dc_8Q7EC.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-fqpk8jUv.js";import"./usePrimitiveElement-D8tvkqQG.js";const A={class:"space-y-6"},F={class:"flex items-center justify-between"},H={class:"rounded-md border"},I={key:0,class:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20"},U={key:1,class:"inline-flex items-center rounded-full bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10"},q={key:0,class:"flex items-center justify-center space-x-2"},dt=D({__name:"Index",props:{posts:{}},setup(m){const v=f=>{confirm("Are you sure you want to delete this post?")&&N.delete(`/cms/posts/${f}`)},w=f=>f?new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Draft";return(f,l)=>(r(),o(g,null,[e(t(P),{title:"Posts"}),e(B,null,{default:s(()=>[u("div",A,[u("div",F,[l[1]||(l[1]=u("div",null,[u("h1",{class:"text-3xl font-bold tracking-tight"},"Posts"),u("p",{class:"text-muted-foreground"}," Manage your blog posts and custom post types ")],-1)),e(t(p),{href:"/cms/posts/create"},{default:s(()=>[e(t(h),null,{default:s(()=>[e(t(M),{class:"mr-2 h-4 w-4"}),l[0]||(l[0]=n(" New Post ",-1))]),_:1})]),_:1})]),u("div",H,[e(t(T),null,{default:s(()=>[e(t(E),null,{default:s(()=>[e(t(x),null,{default:s(()=>[e(t(d),null,{default:s(()=>[...l[2]||(l[2]=[n("Title",-1)])]),_:1}),e(t(d),null,{default:s(()=>[...l[3]||(l[3]=[n("Post Type",-1)])]),_:1}),e(t(d),null,{default:s(()=>[...l[4]||(l[4]=[n("Author",-1)])]),_:1}),e(t(d),null,{default:s(()=>[...l[5]||(l[5]=[n("Status",-1)])]),_:1}),e(t(d),null,{default:s(()=>[...l[6]||(l[6]=[n("Date",-1)])]),_:1}),e(t(d),{class:"w-[70px]"})]),_:1})]),_:1}),e(t(L),null,{default:s(()=>[m.posts.data.length===0?(r(),c(t(x),{key:0},{default:s(()=>[e(t(i),{colspan:"6",class:"text-center text-muted-foreground"},{default:s(()=>[...l[7]||(l[7]=[n(" No posts found. Create your first post to get started. ",-1)])]),_:1})]),_:1})):b("",!0),(r(!0),o(g,null,$(m.posts.data,a=>(r(),c(t(x),{key:a.id},{default:s(()=>[e(t(i),{class:"font-medium"},{default:s(()=>[n(_(a.title),1)]),_:2},1024),e(t(i),null,{default:s(()=>[n(_(a.post_type.title),1)]),_:2},1024),e(t(i),null,{default:s(()=>[n(_(a.user.name),1)]),_:2},1024),e(t(i),null,{default:s(()=>[a.published_at?(r(),o("span",I," Published ")):(r(),o("span",U," Draft "))]),_:2},1024),e(t(i),null,{default:s(()=>[n(_(w(a.published_at||a.created_at)),1)]),_:2},1024),e(t(i),null,{default:s(()=>[e(t(S),null,{default:s(()=>[e(t(V),{"as-child":""},{default:s(()=>[e(t(h),{variant:"ghost",size:"icon"},{default:s(()=>[e(t(z),{class:"h-4 w-4"})]),_:1})]),_:1}),e(t(j),{align:"end"},{default:s(()=>[e(t(k),{"as-child":""},{default:s(()=>[e(t(p),{href:`/cms/posts/${a.id}/edit`},{default:s(()=>[...l[8]||(l[8]=[n(" Edit ",-1)])]),_:1},8,["href"])]),_:2},1024),e(t(k),{class:"text-destructive",onClick:y=>v(a.id)},{default:s(()=>[...l[9]||(l[9]=[n(" Delete ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),m.posts.links.length>3?(r(),o("div",q,[(r(!0),o(g,null,$(m.posts.links,(a,y)=>(r(),c(t(p),{key:y,href:a.url||"#",class:C(["px-3 py-2 text-sm rounded-md",a.active?"bg-primary text-primary-foreground":"hover:bg-muted",!a.url&&"opacity-50 pointer-events-none"]),innerHTML:a.label},null,8,["href","class","innerHTML"]))),128))])):b("",!0)])]),_:1})],64))}});export{dt as default};
