import{d as X,r as F,z as O,c as u,a as l,u as e,h as Y,w as a,b as r,g,i as o,A as S,m as i,t as m,F as V,f as C,j as _,x as b,B as h}from"./app-Cx9OcbbQ.js";import{_ as ee}from"./CmsLayout.vue_vue_type_script_setup_true_lang-CsvWf5uN.js";import{_ as U}from"./index-CUEd5gyv.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-96XDn3cq.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-rUqhGQbs.js";import{_ as D}from"./Textarea.vue_vue_type_script_setup_true_lang-Diw8zQG9.js";import{_ as te,a as le,b as L,c as $,d as ae,e as c}from"./TableRow.vue_vue_type_script_setup_true_lang-N_TPqUNb.js";import{_ as j,a as I,b as M,c as z,d as H}from"./DialogTitle.vue_vue_type_script_setup_true_lang-eH6PmclJ.js";import{_ as se,a as q}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-x5SAYA_i.js";import{_ as oe,a as re,b as ne,c as A}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-IA6H9NWz.js";import{_ as B,a as P,b as T,c as R,d as w}from"./SelectValue.vue_vue_type_script_setup_true_lang-DRW6NnfB.js";import{_ as de}from"./index-Dk_En42W.js";import{P as ie}from"./plus-DR9ecnbK.js";import{c as Z}from"./createLucideIcon-BcIx-Y_Y.js";import{E as ue}from"./ellipsis-DsYnCSPK.js";import"./Breadcrumbs.vue_vue_type_script_setup_true_lang-CMCTn8bn.js";import"./useForwardPropsEmits-RBA7oOP-.js";import"./DialogTitle-BTnRVNRG.js";import"./useForwardExpose-Cj3FmFSL.js";import"./Presence-C4xnn1Y2.js";import"./x-BVfj4e4W.js";import"./VisuallyHidden-DFa5j2ZN.js";import"./chevron-right-DWsb9qqq.js";import"./Separator.vue_vue_type_script_setup_true_lang-Dc_8Q7EC.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-fqpk8jUv.js";import"./usePrimitiveElement-D8tvkqQG.js";import"./index-CZfFbLNh.js";import"./check-B6LHKb5F.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=Z("FolderOpenIcon",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=Z("FolderTreeIcon",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]),fe={class:"space-y-6"},ge={class:"flex items-center justify-between"},_e={class:"space-y-2"},ve={key:0,class:"text-sm text-destructive"},ye={class:"space-y-2"},ce={key:0,class:"text-sm text-destructive"},xe={class:"space-y-2"},Ve={key:0,class:"text-sm text-destructive"},$e={class:"space-y-2"},ke={class:"space-y-2"},Ce={class:"rounded-md border"},be={class:"flex items-center gap-2"},Ue={key:0,class:"flex items-center justify-center space-x-2"},we=["href","innerHTML"],Ne={class:"space-y-2"},Ee={key:0,class:"text-sm text-destructive"},Fe={class:"space-y-2"},Le={key:0,class:"text-sm text-destructive"},Oe={class:"space-y-2"},Se={key:0,class:"text-sm text-destructive"},De={class:"space-y-2"},je={class:"space-y-2"},ut=X({__name:"Index",props:{categories:{}},setup(v){const N=F(!1),k=F(!1),x=F(null),d=O({name:"",slug:"",image:"",description:"",parent_id:null}),n=O({name:"",slug:"",image:"",description:"",parent_id:null}),G=()=>{d.post("/cms/categories",{onSuccess:()=>{N.value=!1,d.reset()}})},J=p=>{x.value=p,n.name=p.name,n.slug=p.slug,n.image=p.image||"",n.description=p.description||"",n.parent_id=p.parent_id,k.value=!0},K=()=>{x.value&&n.put(`/cms/categories/${x.value.id}`,{onSuccess:()=>{k.value=!1,n.reset(),x.value=null}})},Q=p=>{confirm("Are you sure you want to delete this category?")&&h.delete(`/cms/categories/${p}`)},W=(p,t)=>{t.slug=p.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")};return(p,t)=>(i(),u(V,null,[l(e(Y),{title:"Categories"}),l(ee,null,{default:a(()=>[r("div",fe,[r("div",ge,[t[25]||(t[25]=r("div",null,[r("h1",{class:"text-3xl font-bold tracking-tight"},"Categories"),r("p",{class:"text-muted-foreground"}," Organize your posts with categories ")],-1)),l(e(j),{open:N.value,"onUpdate:open":t[6]||(t[6]=s=>N.value=s)},{default:a(()=>[l(e(se),{"as-child":""},{default:a(()=>[l(e(U),null,{default:a(()=>[l(e(ie),{class:"mr-2 h-4 w-4"}),t[13]||(t[13]=o(" New Category ",-1))]),_:1})]),_:1}),l(e(I),null,{default:a(()=>[l(e(M),null,{default:a(()=>[l(e(z),null,{default:a(()=>[...t[14]||(t[14]=[o("Create Category",-1)])]),_:1}),l(e(H),null,{default:a(()=>[...t[15]||(t[15]=[o(" Add a new category to organize your content ",-1)])]),_:1})]),_:1}),r("form",{onSubmit:S(G,["prevent"]),class:"space-y-4"},[r("div",_e,[l(e(f),{for:"create-name"},{default:a(()=>[...t[16]||(t[16]=[o("Name",-1)])]),_:1}),l(e(y),{id:"create-name",modelValue:e(d).name,"onUpdate:modelValue":t[0]||(t[0]=s=>e(d).name=s),onInput:t[1]||(t[1]=s=>W(e(d).name,e(d))),placeholder:"Category name",required:""},null,8,["modelValue"]),e(d).errors.name?(i(),u("p",ve,m(e(d).errors.name),1)):g("",!0)]),r("div",ye,[l(e(f),{for:"create-slug"},{default:a(()=>[...t[17]||(t[17]=[o("Slug",-1)])]),_:1}),l(e(y),{id:"create-slug",modelValue:e(d).slug,"onUpdate:modelValue":t[2]||(t[2]=s=>e(d).slug=s),placeholder:"category-slug",required:""},null,8,["modelValue"]),e(d).errors.slug?(i(),u("p",ce,m(e(d).errors.slug),1)):g("",!0)]),r("div",xe,[l(e(f),{for:"create-image"},{default:a(()=>[...t[18]||(t[18]=[o("Image URL",-1)])]),_:1}),l(e(y),{id:"create-image",modelValue:e(d).image,"onUpdate:modelValue":t[3]||(t[3]=s=>e(d).image=s),type:"url",placeholder:"https://example.com/image.jpg"},null,8,["modelValue"]),e(d).errors.image?(i(),u("p",Ve,m(e(d).errors.image),1)):g("",!0),t[19]||(t[19]=r("p",{class:"text-xs text-muted-foreground"}," Optional - Enter the URL of an image for this category ",-1))]),r("div",$e,[l(e(f),{for:"create-description"},{default:a(()=>[...t[20]||(t[20]=[o("Description",-1)])]),_:1}),l(e(D),{id:"create-description",modelValue:e(d).description,"onUpdate:modelValue":t[4]||(t[4]=s=>e(d).description=s),placeholder:"Category description (optional)"},null,8,["modelValue"])]),r("div",ke,[l(e(f),{for:"create-parent"},{default:a(()=>[...t[21]||(t[21]=[o("Parent Category",-1)])]),_:1}),l(e(B),{modelValue:e(d).parent_id,"onUpdate:modelValue":t[5]||(t[5]=s=>e(d).parent_id=s)},{default:a(()=>[l(e(P),null,{default:a(()=>[l(e(T),{placeholder:"None (top level)"})]),_:1}),l(e(R),null,{default:a(()=>[l(e(w),{value:null},{default:a(()=>[...t[22]||(t[22]=[o("None (top level)",-1)])]),_:1}),(i(!0),u(V,null,C(v.categories.data.filter(s=>!s.parent_id),s=>(i(),_(e(w),{key:s.id,value:s.id},{default:a(()=>[o(m(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t[23]||(t[23]=r("p",{class:"text-xs text-muted-foreground"}," Only top-level categories can be parent categories ",-1))]),l(e(q),null,{default:a(()=>[l(e(U),{type:"submit",disabled:e(d).processing},{default:a(()=>[...t[24]||(t[24]=[o(" Create Category ",-1)])]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),r("div",Ce,[l(e(te),null,{default:a(()=>[l(e(le),null,{default:a(()=>[l(e(L),null,{default:a(()=>[l(e($),null,{default:a(()=>[...t[26]||(t[26]=[o("Name",-1)])]),_:1}),l(e($),null,{default:a(()=>[...t[27]||(t[27]=[o("Slug",-1)])]),_:1}),l(e($),null,{default:a(()=>[...t[28]||(t[28]=[o("Description",-1)])]),_:1}),l(e($),null,{default:a(()=>[...t[29]||(t[29]=[o("Posts",-1)])]),_:1}),l(e($),{class:"w-[70px]"})]),_:1})]),_:1}),l(e(ae),null,{default:a(()=>[v.categories.data.length===0?(i(),_(e(L),{key:0},{default:a(()=>[l(e(c),{colspan:"5",class:"text-center text-muted-foreground"},{default:a(()=>[...t[30]||(t[30]=[o(" No categories found. Create your first category to get started. ",-1)])]),_:1})]),_:1})):g("",!0),(i(!0),u(V,null,C(v.categories.data,s=>(i(),_(e(L),{key:s.id,class:b(s.parent_id?"bg-muted/30":"")},{default:a(()=>[l(e(c),null,{default:a(()=>[r("div",be,[r("div",{class:b([s.parent_id?"ml-8":"","flex items-center gap-2"])},[s.parent_id?(i(),_(e(pe),{key:1,class:"h-4 w-4 text-muted-foreground"})):(i(),_(e(me),{key:0,class:"h-4 w-4 text-primary"})),r("span",{class:b(s.parent_id?"font-normal":"font-semibold")},m(s.name),3)],2),s.parent?(i(),_(e(de),{key:0,variant:"secondary",class:"text-xs"},{default:a(()=>[o(m(s.parent.name),1)]),_:2},1024)):g("",!0)])]),_:2},1024),l(e(c),{class:"text-muted-foreground"},{default:a(()=>[o(m(s.slug),1)]),_:2},1024),l(e(c),{class:"text-muted-foreground"},{default:a(()=>[o(m(s.description||"â€”"),1)]),_:2},1024),l(e(c),null,{default:a(()=>[o(m(s.posts_count),1)]),_:2},1024),l(e(c),null,{default:a(()=>[l(e(oe),null,{default:a(()=>[l(e(re),{"as-child":""},{default:a(()=>[l(e(U),{variant:"ghost",size:"icon"},{default:a(()=>[l(e(ue),{class:"h-4 w-4"})]),_:1})]),_:1}),l(e(ne),{align:"end"},{default:a(()=>[l(e(A),{onClick:E=>J(s)},{default:a(()=>[...t[31]||(t[31]=[o(" Edit ",-1)])]),_:1},8,["onClick"]),l(e(A),{class:"text-destructive",onClick:E=>Q(s.id)},{default:a(()=>[...t[32]||(t[32]=[o(" Delete ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),v.categories.links.length>3?(i(),u("div",Ue,[(i(!0),u(V,null,C(v.categories.links,(s,E)=>(i(),u("a",{key:E,href:s.url||"#",class:b(["px-3 py-2 text-sm rounded-md",s.active?"bg-primary text-primary-foreground":"hover:bg-muted",!s.url&&"opacity-50 pointer-events-none"]),innerHTML:s.label},null,10,we))),128))])):g("",!0)]),l(e(j),{open:k.value,"onUpdate:open":t[12]||(t[12]=s=>k.value=s)},{default:a(()=>[l(e(I),null,{default:a(()=>[l(e(M),null,{default:a(()=>[l(e(z),null,{default:a(()=>[...t[33]||(t[33]=[o("Edit Category",-1)])]),_:1}),l(e(H),null,{default:a(()=>[...t[34]||(t[34]=[o(" Update category information ",-1)])]),_:1})]),_:1}),r("form",{onSubmit:S(K,["prevent"]),class:"space-y-4"},[r("div",Ne,[l(e(f),{for:"edit-name"},{default:a(()=>[...t[35]||(t[35]=[o("Name",-1)])]),_:1}),l(e(y),{id:"edit-name",modelValue:e(n).name,"onUpdate:modelValue":t[7]||(t[7]=s=>e(n).name=s),placeholder:"Category name",required:""},null,8,["modelValue"]),e(n).errors.name?(i(),u("p",Ee,m(e(n).errors.name),1)):g("",!0)]),r("div",Fe,[l(e(f),{for:"edit-slug"},{default:a(()=>[...t[36]||(t[36]=[o("Slug",-1)])]),_:1}),l(e(y),{id:"edit-slug",modelValue:e(n).slug,"onUpdate:modelValue":t[8]||(t[8]=s=>e(n).slug=s),placeholder:"category-slug",required:""},null,8,["modelValue"]),e(n).errors.slug?(i(),u("p",Le,m(e(n).errors.slug),1)):g("",!0)]),r("div",Oe,[l(e(f),{for:"edit-image"},{default:a(()=>[...t[37]||(t[37]=[o("Image URL",-1)])]),_:1}),l(e(y),{id:"edit-image",modelValue:e(n).image,"onUpdate:modelValue":t[9]||(t[9]=s=>e(n).image=s),type:"url",placeholder:"https://example.com/image.jpg"},null,8,["modelValue"]),e(n).errors.image?(i(),u("p",Se,m(e(n).errors.image),1)):g("",!0),t[38]||(t[38]=r("p",{class:"text-xs text-muted-foreground"}," Optional - Enter the URL of an image for this category ",-1))]),r("div",De,[l(e(f),{for:"edit-description"},{default:a(()=>[...t[39]||(t[39]=[o("Description",-1)])]),_:1}),l(e(D),{id:"edit-description",modelValue:e(n).description,"onUpdate:modelValue":t[10]||(t[10]=s=>e(n).description=s),placeholder:"Category description (optional)"},null,8,["modelValue"])]),r("div",je,[l(e(f),{for:"edit-parent"},{default:a(()=>[...t[40]||(t[40]=[o("Parent Category",-1)])]),_:1}),l(e(B),{modelValue:e(n).parent_id,"onUpdate:modelValue":t[11]||(t[11]=s=>e(n).parent_id=s)},{default:a(()=>[l(e(P),null,{default:a(()=>[l(e(T),{placeholder:"None (top level)"})]),_:1}),l(e(R),null,{default:a(()=>[l(e(w),{value:null},{default:a(()=>[...t[41]||(t[41]=[o("None (top level)",-1)])]),_:1}),(i(!0),u(V,null,C(v.categories.data.filter(s=>s.id!==x.value?.id&&!s.parent_id),s=>(i(),_(e(w),{key:s.id,value:s.id},{default:a(()=>[o(m(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t[42]||(t[42]=r("p",{class:"text-xs text-muted-foreground"}," Only top-level categories can be parent categories ",-1))]),l(e(q),null,{default:a(()=>[l(e(U),{type:"submit",disabled:e(n).processing},{default:a(()=>[...t[43]||(t[43]=[o(" Update Category ",-1)])]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{ut as default};
